@using WebsiteDatVeXemPhim
@using WebsiteDatVeXemPhim.EF

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section Styles {

    <link href="~/Content/css/jquery-ui.min.css" rel="stylesheet" />
    <style>
        .user__info__form {
            padding: 90px 60px;
        }

        .text-danger {
            color: #dc3545;
        }

        .user__info__btn:hover {
            cursor: pointer;
        }
    </style>
}

<div class="sign section--bg" data-bg="img/section/section.jpg" id="DetailsUser">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="sign__content">
                    <!-- registration form -->
                    <form action="#" class="user__info__form">
                        <a class="user__info__btn--home" href="/home-page" onclick="">X</a>
                        <h3 class="user__info__title">Thông tin người dùng</h3>

                        <div class="user__info__group">
                            <label for="user__info__name">Tên đăng nhập</label>
                            <input v-model="username" name="user__info__name" type="text" class="user__info__input" placeholder="Nhập tên" readonly>
                            <div class="text-danger"> {{error_username}}</div>
                        </div>

                        <div class="user__info__group">
                            <label for="user__info__name">Họ tên</label>
                            <input v-model="hoten" name="user__info__name" type="text" class="user__info__input" placeholder="Nhập tên">
                            <div class="text-danger"> {{error_hoten}}</div>
                        </div>

                        <div class="user__info__group">
                            <label for="user__info__birthday">Ngày sinh</label>
                            <input class="user__info__input" type="text" v-model="ngaysinh" id="ngaysinh" onchange="getBirthday()" />
                        </div>

                        <div class="user__info__group">
                            <label for="user__info__name">Số điện thoại</label>
                            <input v-model="sdt" name="user__info__name" type="text" class="user__info__input" placeholder="Nhập tên">
                            <div class="text-danger"> {{error_sdt}}</div>
                        </div>

                        <div class="user__info__group">
                            <label for="user__info__name">Địa chỉ</label>
                            <input v-model="diachi" name="user__info__name" type="text" class="user__info__input" placeholder="Nhập địa chỉ">
                        </div>

                        <div class="user__info__group">
                            <label for="user__info__password">Mật khẩu mới</label>
                            <input v-model="password" name="user__info__password" type="password" class="user__info__input" placeholder="Nhập mật khẩu">
                            <div class="text-danger"> {{error_password}}</div>
                        </div>

                        <div class="user__info__group">
                            <label for="user__info__password--confirm">Xác nhận mật khẩu</label>
                            <input v-model="confirm_pass" name="user__info__password--confirm" type="password" class="user__info__input" placeholder="Nhập xác nhận mật khẩu">
                            <div class="text-danger"> {{error_confirm_pass}}</div>
                        </div>

                        <span class="user__info__btn" v-on:click="updateInfoUser()">Cập nhật thông tin</span>
                    </form>
                    <!-- registration form -->
                </div>
            </div>
        </div>
    </div>
</div>
@section Scripts {
    @{
        var session = (NguoiDung)Session[WebsiteDatVeXemPhim.Common.CommonConstants.USER_SESSION];
    }

    <script>
    var session = "@session.UserName";
    </script>
    <script src="~/Scripts/jquery-ui.min.js"></script>
    <script src="~/Scripts/Account/DetailsUser.js"></script>
    <script>

        $(document).ready(function () {
            $('#ngaysinh').datepicker({
                dateFormat: "dd/mm/yy",
                changeMonth: true,
                changeYear: true
            });
        });


        function getBirthday() {
            var birthday = $("#ngaysinh").val();
            vmDetailsUser.ngaysinh = birthday;
        }
    </script>
}
